

<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <style>
        /* Add CSS styles for the product cards */
        body{
            height: 90%;
            width: 100%;
            margin-left:  60px  
        }
        .product-cards {
            display: flex;
            justify-content: space-evenly;
            width: 500px;
            height: 400px;
            margin-left: 100px;
        }

        .product-card {
            display: inline-block;
            margin: 20px;
            width: 300px;
            border: 2px solid black;
        }

        h1 {
            background-color: rgb(22, 233, 78);
            display: flex;
            justify-content: center;
        }

        .product-image {
            width: 100%;
            max-height: 250px;
            align-items: center;
            justify-content: center;
        }

        #additional {
            display: flex;
            justify-content: space-between;
        }

        .additional-image {
            width: 70px;
            height: 70px;
            margin-left: 20px;
            cursor: pointer;
            /* Add cursor pointer for clickable images */
        }

        #price {
            color: rgb(17, 17, 16);
            font-weight: 600;
        }

        .magnifying-glass {
            position: relative;
            display: inline-block;
            overflow: hidden;
        }

        .magnifying-glass-image {
            max-width: 100%;
        }

        .magnifying-glass-zoom {
            position: absolute;
            display: none;
            width: 100px;
            /* Adjust the size of the magnifying glass as needed */
            height: 100px;
            background: rgba(0, 0, 0, 0.2);
            /* Add a background color for the zoomed area */
            border: 1px solid #000;
            /* Add a border for the zoomed area */
            pointer-events: none;
            border-radius: 50%;
            /* Make the zoomed area circular */
        }
        button{
            margin-left: 25px;
            background-color: rgb(68, 139, 232);
        }
        button a
            {
                color: black;
            text-decoration: none;
        }

 </style>

    <!-- <script src="https://code.jquery.com/jquery-3.7.0.js"
        integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" crossorigin="anonymous"></script> -->
</head>

<body>
    <!-- Your header and navigation can go here -->
   
    <h1>Products</h1>
    <button id="btn"><a href="/home">Go back to home</a></button>

    <div>
        <form action="/search" method="GET" style=" margin: 25px;">
            <input type="text" id="search" name="search" placeholder="Search..." required>
            <button type="submit">Search</button>
        </form>
    </div>
    <h4 id="search" style="font-size: 20px; margin-left: 15px;">
        <%=locals.msg%>
    </h4>
    <!-- <h4 style="font-size: 20px; margin-left: 15px;">
        <%=locals.searchQuery%>
    </h4> -->

    <div id="product-cards">
        <% product.forEach(product=> { %>
            <div class="product-card">
                <!-- <div class="magnifying-glass">
                    <img class="magnifying-glass-image" src="/uploads/<%= product.image %>" alt="<%= product.name %>">
                </div> -->

                <div class="magnifying-glass">
                    <a href="/singleproduct/<%= product._id %>"><img id="main" class="magnifying-glass-image" src="/uploads/<%= product.image %>" 
                        alt="<%= product.name %>"></a>
                    <div class="magnifying-glass-zoom"></div>
                </div>



                <div id="additional">
                    <div class="additional-images">
                        <% product.additionalimages.forEach((image, index)=> { %>
                            <img class="additional-image" src="/uploads/<%= image %>" alt="Additional Image"
                                data-index="<%= index %>">
                            <% }); %>
                    </div>
                </div>

                <div class="product-details">
                    <h4>
                        <%= product.name %>
                    </h4>
                    <p>Category: <%= product.category %>
                    </p>
                    <p>Description: <%= product.description %>
                    </p>
                    <p id="price">Price: <i class="fa-solid fa-indian-rupee-sign"></i>
                        <%= product.price %>
                    </p>
                    <p>Quantity: <%= product.quantity %>
                    </p>
                </div>
            </div>
            <% }); %>
    </div>


     
  
    <script>
        
        const productCards = document.querySelectorAll(".product-card");
    
        productCards.forEach((productCard) => {
            const mainImage = productCard.querySelector(".magnifying-glass-image");
            const additionalImages = productCard.querySelectorAll(".additional-image");
    
            additionalImages.forEach((image) => {
                image.addEventListener("click", () => {
                   
                    const currentMainImageSrc = mainImage.src;
    
                  
                    mainImage.src = image.src;
    
                  
                    image.src = currentMainImageSrc;
                });
            });
        });
    </script>
    
    
    <!-- Your footer can go here -->
    <!-- <script src="/src/zoomsl.js"></script> -->
</body>

</html>