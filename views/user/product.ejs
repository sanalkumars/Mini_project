


   <%- include("../partials/header.ejs") -%> 
      <!-- content -->
    

      <section class="py-5">
        <div class="container">
          <div class="row gx-5">
           
            <aside class="col-lg-6 product-images">   
                          <div class=" d-flex justify-content-center mb-3 zoom-container main-image ">
                              <div class="border rounded-4 mb-3 d-flex justify-content-center" id="main">
                                 <img  style="max-width: 80%; max-height: 80vh; margin: auto;" class="img-fluid MainImg" src="/uploads/<%= product.image %>" class="rounded-2 zoom-image"  id="main"/>

                              </div>
                
                           </div>
            
              <div class="d-flex justify-content-center mb-3" >
                <div class="additional-images" ">
                  <% for (let i = 0; i < product.additionalimages.length; i++) { %>
                    
                      <img width="70" height="70" class="rounded-2" src="/uploads/<%= product.additionalimages[i] %>" alt="<%= product.name %>">
                  <% } %>
              </div>
              
              </div>
              <!-- thumbs-wrap.// -->
              <!-- gallery-wrap .end// -->
           </aside>
           
           <main class="col-lg-6">
            <div class="ps-lg-3">
              <h4 class="title text-dark">
                <%= product.name %>
              </h4>
          
              <div class="mb-3">
                <span class="h5 text text-danger"><%= product.price %></span>
                <span class="text-muted text-dark">/per item</span>
              </div>
          
              <p>
                <%= product.description %>
              </p>
          
              <p>
                <% if (product.quantity <= 0) { %>
                  <span style="color: red;">Product Out of Stock</span>
                <% } else if (product.quantity <= 5) { %>
                  <% if (product.quantity === 1) { %>
                    <span style="color: red;">Only one more left</span>
                  <% } else { %>
                    <span style="color: red;">Only <%= product.quantity %> more left</span>
                  <% } %>
                <% } else { %>
                  Item left: <%= product.quantity %>
                <% } %>
              </p>
          
              <hr />
          
              <div class="row mb-4">
                <div style="display: flex; justify-content: space-between;">
                  <form action="/cart" method="post" <% if (product.quantity <= 0) { %>disabled<% } %>>
                    <input type="hidden" name="productId" value="<%= product._id %>">
                    <button type="submit" class=" btn btn-primary shadow-1 me-1" <% if (product.quantity <= 0) { %>disabled<% } %>>Add to Cart <i class="fa-solid fa-cart-shopping"></i></button>
                  </form>
                </div>
              </div>
            </div>
          </main>
          
          </div>
      
        </div>
      
      </section>
      <!-- content -->
      
      <section class="bg-light border-top py-4">
        <div class="container">
          <div class="row gx-4">
            <div class="col-lg-8 mb-4">
              <div class="border rounded-2 px-3 py-2 bg-white">
                <!-- Pills navs -->
                <ul class="nav nav-pills nav-justified mb-3" id="ex1" role="tablist">
                  <li class="nav-item d-flex" role="presentation">
                    <a class="nav-link d-flex align-items-center justify-content-center w-100 active" id="ex1-tab-1" data-mdb-toggle="pill" href="#ex1-pills-1" role="tab" aria-controls="ex1-pills-1" aria-selected="true">Specification</a>
                  </li>
                  <li class="nav-item d-flex" role="presentation">
                    <a class="nav-link d-flex align-items-center justify-content-center w-100" id="ex1-tab-2" data-mdb-toggle="pill" href="#ex1-pills-2" role="tab" aria-controls="ex1-pills-2" aria-selected="false">Warranty info</a>
                  </li>
                  <li class="nav-item d-flex" role="presentation">
                    <a class="nav-link d-flex align-items-center justify-content-center w-100" id="ex1-tab-3" data-mdb-toggle="pill" href="#ex1-pills-3" role="tab" aria-controls="ex1-pills-3" aria-selected="false">Shipping info</a>
                  </li>


                   <li class="nav-item d-flex" role="presentation">
                    <a class="nav-link d-flex align-items-center justify-content-center w-100" id="ex1-tab-4" data-mdb-toggle="pill" href="#ex1-pills-4" role="tab" aria-controls="ex1-pills-4" aria-selected="false">Seller profile</a>
                  </li>
                </ul>
                <!-- Pills navs -->
      
                <!-- Pills content -->
                <div class="tab-content" id="ex1-content">
                  <div class="tab-pane fade show active" id="ex1-pills-1" role="tabpanel" aria-labelledby="ex1-tab-1">
                    <p>
                      With supporting text below as a natural lead-in to additional content. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
                      enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
                      pariatur.
                    </p>
                    <div class="row mb-2">
                      <div class="col-12 col-md-6">
                        <ul class="list-unstyled mb-0">
                          <li><i class="fas fa-check text-success me-2"></i>Some great feature name here</li>
                          <li><i class="fas fa-check text-success me-2"></i>Lorem ipsum dolor sit amet, consectetur</li>
                          <li><i class="fas fa-check text-success me-2"></i>Duis aute irure dolor in reprehenderit</li>
                          <li><i class="fas fa-check text-success me-2"></i>Optical heart sensor</li>
                        </ul>
                      </div>
                      <div class="col-12 col-md-6 mb-0">
                        <ul class="list-unstyled">
                          <li><i class="fas fa-check text-success me-2"></i>Easy fast and ver good</li>
                          <li><i class="fas fa-check text-success me-2"></i>Some great feature name here</li>
                          <li><i class="fas fa-check text-success me-2"></i>Modern style and design</li>
                        </ul>
                      </div>
                    </div>
                   
                  </div>
                  <div class="tab-pane fade mb-2" id="ex1-pills-2" role="tabpanel" aria-labelledby="ex1-tab-2">
                    Tab content or sample information now <br />
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut
                    aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui

                    officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis
                    nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                  </div>
                  <div class="tab-pane fade mb-2" id="ex1-pills-3" role="tabpanel" aria-labelledby="ex1-tab-3">
                    Another tab content or sample information now <br />
                    Dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
                    commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt
                    mollit anim id est laborum.
                  </div>
                  <div class="tab-pane fade mb-2" id="ex1-pills-4" role="tabpanel" aria-labelledby="ex1-tab-4">
                    Some other tab content or sample information now <br />
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut
                    aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui
                    officia deserunt mollit anim id est laborum.
                  </div>
                </div>
                <!-- Pills content -->
              </div>
            </div>
           

            <div class="col-lg-4">
              <div class="px-0 border rounded-2 shadow-0">
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title">Similar items</h5>

                    <% allproducts.slice(0, 3).forEach(product => { %>
                      <div class="d-flex mb-3">
                        <a href="#" class="me-3">
                          <img src="/uploads/<%= product.image %>" alt="<%= product.name %>" style="min-width: 96px; height: 96px;" class="img-md img-thumbnail" />
                        </a>
                        <div class="info">
                          <a href="#" class="nav-link mb-1">
                            Rucksack Backpack Large <br />
                            Line Mounts
                          </a>
                          <strong class="text-dark"> $38.90</strong>
                        </div>
                      </div>
                  <%});%>

                  </div>
                </div>
              </div>
            </div>
           
          </div>
        </div>
      </section>
      <!-- Footer -->
      <%- include("../partials/footer.ejs") -%>
      <!-- Footer -->

      <script src="https://unpkg.com/js-image-zoom/js-image-zoom.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/js-image-zoom/js-image-zoom.min.js"></script>

      <script>
        var options = {
            width: 300, // required
            // more options here
          };
          new ImageZoom(document.getElementById("main"), options);

          var options = {
              width: 200,
              height: 200
            };
            var options = {
                width: 400,
                zoomWidth: 500
              };

              var options = {
                  width: 400,
                  offset: {
                    vertical: 0,
                    horizontal: 10
                  }
                };
                var options = {
                    width: 400,
                    scale: 2.5
                  };
                  var options = {
                      width: 400,
                      zoomContainer: domNode
                    };
                    var options = {
                      width: 400,
                      zoomStyle: {
                        // your css styles here
                      }
                    };
                    var options = {
                      width: 400,
                      zoomPosition: 'left'
                    };
      </script>



<script>
  document.addEventListener("DOMContentLoaded", function () {
      const productImages = document.querySelectorAll(".product-images");

      productImages.forEach((imagesContainer) => {
          const additionalImages = imagesContainer.querySelectorAll(".additional-images img");
          const mainImage = imagesContainer.querySelector(".main-image img");

          let mainImageSrc = mainImage.src; // Store the initial source of the main image

          additionalImages.forEach((image) => {
              image.addEventListener("click", function () {
                  const clickedImageSrc = this.src;
                  this.src = mainImageSrc; // Set the clicked image source to the initial main image source
                  mainImage.src = clickedImageSrc; // Set the main image source to the clicked image source
                  mainImageSrc = clickedImageSrc; // Update the main image source for future swaps
              });
          });
      });
  });
</script>


      


<script src="https://code.jquery.com/jquery-3.7.0.js"
            integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" 
            crossorigin="anonymous"></script>


<!--<script src="https://unpkg.com/js-image-zoom@0.4.1/js-image-zoom.js" type="application/javascript"></script> -->



</html>

